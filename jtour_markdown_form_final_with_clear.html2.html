
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>Jtour è¡¨æ¼”ç´€éŒ„ âœ Markdown ç”¢ç”Ÿå™¨</title>
    <style>
        body { font-family: sans-serif; margin: 2em; max-width: 800px; }
        label { display: block; margin-top: 1em; font-weight: bold; }
        textarea, input[type="text"], input[type="number"] { width: 100%; padding: 0.5em; }
        button { margin-top: 1em; padding: 0.5em 1em; font-size: 1em; }
        pre { background: #f4f4f4; padding: 1em; white-space: pre-wrap; }
        .tag-buttons { margin: 0.5em 0; }
        .tag-buttons button {
            margin: 0.2em; padding: 0.3em 0.6em;
            border: none; background: #eee; cursor: pointer;
            border-radius: 5px;
        }
        .tag-buttons button:hover {
            background: #cce;
        }
        ul { padding-left: 1.2em; }
    </style>
</head>
<body>
    <h1>ğŸ¤ Jtour æ¥æŠ•è¡¨æ¼”ç´€éŒ„ âœ Markdown ç”¢ç”Ÿå™¨</h1>

    <label>ğŸ“ åœ°é» Place</label>
    <div class="tag-buttons">
        <button type="button" onclick="setValue('place','ä¹™æœªå…¬åœ’')">ä¹™æœªå…¬åœ’</button>
        <button type="button" onclick="setValue('place','æ–°å‹¢å…¬åœ’')">æ–°å‹¢å…¬åœ’</button>
        <button type="button" onclick="setValue('place','ä¸­å£¢å¤§æ™‚é˜')">ä¸­å£¢å¤§æ™‚é˜</button>
        <button type="button" onclick="setValue('place','(åç¨±)å•†æ¥­æ¼”å‡º')">(åç¨±)å•†æ¥­æ¼”å‡º</button>
    </div>
    <input type="text" id="place">

    <label>ğŸ—“ï¸ æ—¥æœŸ Date</label>
    <input type="text" id="date" placeholder="YYYY-MM-DD">

    <label>ğŸ•’ æ™‚é–“ Time</label>
    <input type="text" id="time" placeholder="13:00 ~ 17:00">

    <label>ğŸ¸ æ¼”å‡ºäººå“¡ Performers</label>
    <div class="tag-buttons">
        <button type="button" onclick="addPerformer('ğŸ‘¨â€ğŸ¦²Dipsy Koo')">ğŸ‘¨â€ğŸ¦²Dipsy Koo</button>
        <button type="button" onclick="addPerformer('ğŸ¦–Sean')">ğŸ¦–Sean</button>
        <button type="button" onclick="addPerformer('ğŸ’©å¿»å¦')">ğŸ’©å¿»å¦</button>
        <button type="button" onclick="addPerformer('ğŸ·å®¶é½Š')">ğŸ·å®¶é½Š</button>
        <button type="button" onclick="addPerformer('ğŸš¬éº’å®‰')">ğŸš¬éº’å®‰</button>
        <button type="button" onclick="addPerformer('ğŸš¬æ˜Šæ˜Š')">ğŸš¬æ˜Šæ˜Š</button>
    </div>
    <input type="text" id="performers" placeholder="å¯æ‰‹å‹•è£œå……ï¼Œä½¿ç”¨é€—è™Ÿåˆ†éš”">

    <label>ğŸ™ï¸ Featuring (ft.)</label>
    <input type="text" id="featuring" placeholder="ä¾‹å¦‚ï¼šJoannaã€å°å¿—">

    <label>ğŸŒ¤ï¸ å¤©æ°£ Weather</label>
    <div class="tag-buttons">
        <button type="button" onclick="setValue('weather','ğŸŒ¤ï¸æ™´å¤©')">ğŸŒ¤ï¸æ™´å¤©</button>
        <button type="button" onclick="setValue('weather','ğŸŒ¦ï¸é™°å¤©')">ğŸŒ¦ï¸é™°å¤©</button>
        <button type="button" onclick="setValue('weather','ğŸŒ¨ï¸å°é›¨')">ğŸŒ¨ï¸å°é›¨</button>
        <button type="button" onclick="setValue('weather','â›ˆï¸æš´é›¨')">â›ˆï¸æš´é›¨</button>
    </div>
    <input type="text" id="weather">

    <label>ğŸ§° ä½¿ç”¨è¨­å‚™ | Gear</label>
    <div class="tag-buttons">
        <button onclick="selectGear('ğŸ”‰BoseéŸ³éŸ¿')" type="button">ğŸ”‰BoseéŸ³éŸ¿</button>
        <button onclick="selectGear('éº¥æ¶')" type="button">éº¥æ¶</button>
        <button onclick="selectGear('ğŸ¤éº¥å…‹é¢¨')" type="button">ğŸ¤éº¥å…‹é¢¨</button>
        <button onclick="selectGear('ã€½ï¸XLRå°ç·š')" type="button">ã€½ï¸XLRå°ç·š</button>
        <button onclick="selectGear('â°6.3mmå°ç·š')" type="button">â°6.3mmå°ç·š</button>
        <button onclick="selectGear('ç¶œåˆå‰ä»–æ¶')" type="button">ç¶œåˆå‰ä»–æ¶</button>
        <button onclick="selectGear('æ‰‹æ©Ÿæ¶')" type="button">æ‰‹æ©Ÿæ¶</button>
        <button onclick="selectGear('ğŸ›ï¸Mixer')" type="button">ğŸ›ï¸Mixer</button>
        <button onclick="selectGear('ğŸ¸å‰ä»–')" type="button">ğŸ¸å‰ä»–</button>
        <button onclick="selectGear('ğŸ¸è²æ–¯')" type="button">ğŸ¸è²æ–¯</button>
        <button onclick="selectGear('ğŸ¹é‹¼ç´')" type="button">ğŸ¹é‹¼ç´</button>
        <button onclick="selectGear('ğŸ¥æœ¨ç®±é¼“')" type="button">ğŸ¥æœ¨ç®±é¼“</button>
    </div>
    <input type="text" id="gearSelected" placeholder="ç›®å‰é¸æ“‡é …ç›®" readonly>
    <label>æ•¸é‡ï¼š</label>
    <input type="number" id="gearQty" min="1" value="1">
    <button onclick="addGear()">â• æ–°å¢å™¨æ</button>
    <button onclick="clearGearList()" type="button" style="margin-left: 0.5em; background: #fcc;">ğŸ—‘ï¸ æ¸…é™¤å™¨ææ¸…å–®</button>
<ul id="gearList"></ul>

    <label>ğŸµ æ­Œå–® Song List</label>
    <textarea id="songs" rows="4" placeholder="1. å°æƒ…æ­Œ - å¿»å¦&#10;2. Love Yourself - Sean"></textarea>

    <label>âš ï¸ ç•¶æ—¥ç‹€æ³ Notes</label>
    <textarea id="incidents" rows="3"></textarea>

    <label>ğŸ’° æ”¶ç›Š Earnings</label>
    <input type="number" id="cash" placeholder="ç¾é‡‘æ”¶å…¥">
    <input type="number" id="online" placeholder="ç·šä¸Šè½‰å¸³">
    <input type="number" id="invoice" placeholder="ç™¼ç¥¨å¼µæ•¸">
    <input type="number" id="expense" placeholder="æ”¯å‡º (è² æ•¸)">
    <p><strong>ç¸½è¨ˆ Totalï¼š</strong><span id="total">0</span> NTD</p>

    <button onclick="generate()">ç”¢ç”Ÿ Markdown</button>
    <button onclick="copyMarkdown()">ğŸ“‹ è¤‡è£½ Markdown</button>
    <h2>ğŸ“ ç”¢ç”Ÿçµæœï¼š</h2>
    <pre id="result"></pre>

    <script>
        let gearItems = [];

        function setValue(id, value) {
            document.getElementById(id).value = value;
        }

        function addPerformer(name) {
            const field = document.getElementById("performers");
            const current = field.value.trim();
            const names = current ? current.split(",").map(x => x.trim()) : [];
            if (!names.includes(name)) {
                names.push(name);
                field.value = names.join(", ");
            }
        }

        function selectGear(name) {
            document.getElementById("gearSelected").value = name;
        }

        function addGear() {
            const name = document.getElementById("gearSelected").value;
            const qty = document.getElementById("gearQty").value;
            if (name && qty > 0) {
                gearItems.push(`${name} x${qty}`);
                updateGearList();
                document.getElementById("gearSelected").value = '';
                document.getElementById("gearQty").value = 1;
            }
        }

        function updateGearList() {
            const ul = document.getElementById("gearList");
            ul.innerHTML = '';
            gearItems.forEach(item => {
                const li = document.createElement("li");
                li.textContent = item;
                ul.appendChild(li);
            });
        }

        function generate() {
            const invoice = parseInt(document.getElementById("invoice").value) || 0;
            const cash = parseInt(document.getElementById("cash").value) || 0;
            const online = parseInt(document.getElementById("online").value) || 0;
            const expense = parseInt(document.getElementById("expense").value) || 0;
            const total = cash + online - expense;
            document.getElementById("total").textContent = total;

            const md = `# ğŸ¤ Jtouræ¥æŠ• ç¾å ´æ¼”å‡ºè¨˜éŒ„



### ğŸ“ ${place.value} | ğŸ—“ï¸ ${date.value} | ğŸ•’ ${time.value} |  ${weather.value}


## ğŸ¸ æ¼”å‡ºäººå“¡ | Performers

| **æˆå“¡** | **æˆå“¡** | **Feat.** |
|:------:|:------:|:-------:|
${(() => {
  const names = performers.value.split(',').map(p => p.trim());
  const feats = featuring.value.split(',').map(f => f.trim());
  const maxRows = Math.max(
    Math.ceil(names.length / 2),
    feats.length
  );

  const rows = [];

  for (let i = 0; i < maxRows; i++) {
    const left = names[i * 2] || '';
    const right = names[i * 2 + 1] || '';
    const feat = feats[i] || '';
    rows.push(`| ${left} | ${right} | ${feat} |`);
  }

  return rows.join('\n');
})()}


## ğŸ§° ä½¿ç”¨è¨­å‚™ | Gear

| **å™¨æ** | **å™¨æ** |
|:------:|:------:|
${gearItems.reduce((rows, item, idx) => {
  const col = ` ${item} `;
  if (idx % 2 === 0) {
    rows.push([col]);
  } else {
    rows[rows.length - 1].push(col);
  }
  return rows;
}, []).map(row => `|${row[0]}|${row[1] || ''}|`).join('\n')}

## ğŸµ æ¼”å‡ºæ­Œå–® | Song List
${songs.value}

## âš ï¸ ç•¶æ—¥ç‹€æ³ | Notes
${incidents.value}

## ğŸ’° æ”¶ç›Šç´€éŒ„ | Earnings

| **é …ç›®**       | **é‡‘é¡ (NTD)** |
|:------------:|:-------------:|
|     ç¾é‡‘     |    ${cash}    |
|   ç·šä¸Šè½‰å¸³   |    ${online}  |
|   ç™¼ç¥¨   |    ${invoice}å¼µ |
|     æ”¯å‡º     |    ${expense} |
|   **ç¸½è¨ˆ**   |   **${total}**  |


`;
            document.getElementById("result").textContent = md;
        }
    
function clearGearList() {
    gearItems = [];
    updateGearList();
}

function copyMarkdown() {
    const markdown = document.getElementById("result").textContent;
    navigator.clipboard.writeText(markdown)
        .then(() => alert("âœ… å·²è¤‡è£½ Markdown åˆ°å‰ªè²¼ç°¿ï¼"))
        .catch(err => alert("âŒ è¤‡è£½å¤±æ•—ï¼š" + err));
}

</script>

</body>
</html>
